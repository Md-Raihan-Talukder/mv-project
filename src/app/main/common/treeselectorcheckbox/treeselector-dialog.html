<md-dialog class="tree-selector-dialog common-dialog" aria-label="Dialog">


    <md-toolbar class="md-accent">
        <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
            <span class="title">Select item</span>
            <md-button class="md-icon-button" ng-click="vm.closeDialog()">
                <md-icon md-font-icon="icon-close" aria-label="Close dialog"></md-icon>
            </md-button>
        </div>
    </md-toolbar>


    <div layout="row" flex="100">
        <div layout="column" flex="40">
            <label class="md-title">Select Items</label>
            <md-dialog-content ms-scroll>
                <td-tree-view-check-box ng-if="vm.items" items="vm.items" options="vm.treeOptions" on-select-item="vm.selectItem(item, event, callBack)">
                </td-tree-view-check-box>

            </md-dialog-content>
        </div>
        <!-- <div ng-repeat="card in vm.items | filter:{isChecked:true} ">
            {{card.title}}
        </div> -->
        <div ng-if="vm.isTree" layout="column" flex="60">
            <label class="md-title">Selected Items</label>
            <md-dialog-content ms-scroll>
                <div layout="row">
                    <div class="widget-group" layout="row" flex="100" layout-wrap>

                        <ms-widget ng-repeat="card in vm.items | filter:{isChecked:true,level:1}" flippable="false">
                            <ms-widget-front class="white-bg h-auto" style="font-size:12px;width:400px;">

                                <div class="m-20" ms-scroll class="content" layout="column" layout-align="start start">

                                    <div layout="row" flex="100" style="position:relative;top:-10px;">
                                        <!-- <td-tree-view ng-if="vm.flat" items="vm.flat"
                                                        options ="vm.treeOptions"
                                                        on-select-item="vm.selectItem(item, event, callBack)">
                                                    </td-tree-view> -->
                                        <div flex=30 class="tags mr-15">
                                            <p class="tag">Card</p>
                                            <p class="tag">Section</p>
                                            <p class="tag">Segment</p>

                                        </div>
                                        <div flex="70" class="ml-10 tags" style="display:inline-block">
                                            <p>: {{card.title}}</p>
                                            <span class="tag mt-10" ng-repeat="section in vm.items | filter:{isChecked:true,level:2,parentId:card.TECHDISER_ID}" style="border-radius:150px;">

                                                <span ng-click="vm.showSegments(section);vm.segmentsItems = !vm.segmentsItems;"> <span class="mr-2">{{section.title}}</span> </span>
                                            </span>
                                            <p>: <span ng-if="vm.segmentsItems" ng-repeat="segment in vm.segmentsOfSection.nodes | filter:{isChecked:true,level:3,parentId:vm.segmentsOfSection.TECHDISER_ID}"><span class="mr-2 tag" style="border-radius:150px;">{{segment.title}}</span> </span></p>

                                        </div>
                                    </div>
                                </div>


                            </ms-widget-front>
                        </ms-widget>

                    </div>

                </div>

            </md-dialog-content>
        </div>

    </div>



    <md-dialog-actions layout="row" layout-align="space-between center">
        <div layout="row" layout-align="start center">
            &nbsp;
        </div>
        <div layout="row" layout-align="start center">
            <md-button ng-click="vm.saveDialog(vm.checkedItems,vm.items)" class="send-button md-raised" aria-label="SAVE">
                SAVE
            </md-button>
        </div>

    </md-dialog-actions>


</md-dialog>